(()=>{"use strict";(()=>{const e=document.querySelector(".main-slider").querySelectorAll(".slide");let t=0;setInterval((()=>{e[t].classList.add("hidden-block"),t++,t>=e.length&&(t=0),e[t].classList.remove("hidden-block")}),2e3)})(),(()=>{const e=document.querySelector(".gallery-slider"),t=document.querySelectorAll(".gallery-slides"),s=document.querySelector(".switchers");let c,l=0;const n=(e,t,s)=>{e[t].classList.remove(s)},o=(e,t,s)=>{e[t].classList.add(s)},a=()=>{n(t,l,"gallery-slides-active"),n(i,l,"dot-active"),l++,l>=t.length&&(l=0),o(t,l,"gallery-slides-active"),o(i,l,"dot-active")},d=()=>{c=setInterval(a,2e3)};for(let e=0;e<t.length;e++){const t=document.createElement("li");s.appendChild(t),0===e?(t.classList.add("dot"),t.classList.add("dot-active")):t.classList.add("dot")}const i=document.querySelectorAll(".dot");e.addEventListener("click",(e=>{let s=e.target;s.matches(".fa-chevron-right, .photoGallery__next, .photoGallery__prev, .fa-chevron-left, .dot")&&(n(t,l,"gallery-slides-active"),n(i,l,"dot-active"),s.matches(".photoGallery__next")||s.matches(".fa-chevron-right")?l++:s.matches(".photoGallery__prev")||s.matches(".fa-chevron-left")?l--:s.matches(".dot")&&i.forEach(((e,t)=>{e===s&&(l=t)})),l>=t.length&&(l=0),l<0&&(l=t.length-1),o(t,l,"gallery-slides-active"),o(i,l,"dot-active"))})),e.addEventListener("mouseover",(e=>{e.target.matches(".fa-chevron-right, .photoGallery__next, .photoGallery__prev, .fa-chevron-left, .dot")&&clearInterval(c)})),e.addEventListener("mouseout",(e=>{e.target.matches(".fa-chevron-right, .photoGallery__next, .photoGallery__prev, .fa-chevron-left, .dot")&&d()})),d()})(),(()=>{const e=document.querySelectorAll(".name"),t=document.getElementById("free-visit-name"),s=document.getElementById("callback_form2-phone"),c=document.getElementById("callback_form1-name"),l=document.getElementById("callback_form1-phone");e.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^А-Яа-я ]/,"")})),e.addEventListener("focus",(()=>{e.style.border="1px solid #ffd11a"})),e.addEventListener("blur",(()=>{e.style.border="",""!==e.value&&(e.value=e.value.replace(/\s+/g," ").trim(),e.value=e.value.replace(/[-]+/g,"-"),e.value=e.value.replace(/^\-+|\-+$/g,""),e.value=e.value.split(/\s+/).map((e=>e[0].toUpperCase()+e.substring(1))).join(" "))}))})),maskPhone(".phone");const n=window.location.pathname.split("/").pop(),o=document.querySelector(".club-select"),a=document.querySelector(".clubs-show");a.classList.add("hidden-block"),o.addEventListener("click",(e=>{e.target.classList.contains("choose-club")&&a.classList.toggle("hidden-block")}));const d=document.querySelector(".open-popup"),i=document.getElementById("free_visit_form"),r=document.querySelector(".callback-btn"),m=document.getElementById("callback_form");d.addEventListener("click",(()=>{i.style.display="block"})),r.addEventListener("click",(()=>{m.style.display="block"}));const u=document.querySelector(".fixed-gift"),h=document.getElementById("gift");document.addEventListener("click",(e=>{let n=e.target;n.classList.contains("overlay")||n.classList.contains("close_icon")||n.classList.contains("close-btn")||n.classList.contains("btn-ok1")||n.classList.contains("btn-ok2")?(x.classList.add("hidden-block"),B.classList.add("hidden-block"),document.getElementById("form2").style.display="block",document.getElementById("form2").reset(),document.getElementById("form1").style.display="block",document.getElementById("form1").reset(),t.classList.remove("success"),s.classList.remove("success"),c.classList.remove("success"),l.classList.remove("success"),i.style.display="none",m.style.display="none",C.style.display="none",I.style.display="none",h.style.display="none"):n.classList.contains("gift-icon")&&(h.style.display="block",u.classList.add("hidden-block"))}));const v=document.getElementById("card_order"),y=document.getElementById("m1"),k=document.getElementById("m2"),p=document.getElementById("m3"),f=document.getElementById("m4"),L=document.getElementById("card_leto_mozaika"),g=document.getElementById("card_leto_schelkovo"),_=document.getElementById("promocode"),b=document.getElementById("price-total");let E;""!==n&&"index.html"!==n||v.addEventListener("click",(e=>{let t=e.target;t.matches("#m1")&&!0===L.checked||t.matches("#card_leto_mozaika")&&!0===y.checked?(_.value="",b.innerHTML="1999"):t.matches("#m2")&&!0===L.checked||t.matches("#card_leto_mozaika")&&!0===k.checked?(_.value="",b.innerHTML="9990"):t.matches("#m3")&&!0===L.checked||t.matches("#card_leto_mozaika")&&!0===p.checked?(_.value="",b.innerHTML="13900"):(t.matches("#m4")&&!0===L.checked||t.matches("#card_leto_mozaika")&&!0===f.checked)&&(_.value="",b.innerHTML="19900"),t.matches("#m1")&&!0===g.checked||t.matches("#card_leto_schelkovo")&&!0===y.checked?(_.value="",b.innerHTML="2999"):t.matches("#m2")&&!0===g.checked||t.matches("#card_leto_schelkovo")&&!0===k.checked?(_.value="",b.innerHTML="14990"):t.matches("#m3")&&!0===g.checked||t.matches("#card_leto_schelkovo")&&!0===p.checked?(_.value="",b.innerHTML="21990"):(t.matches("#m4")&&!0===g.checked||t.matches("#card_leto_schelkovo")&&!0===f.checked)&&(_.value="",b.innerHTML="24990"),E=b.innerHTML})),""!==n&&"index.html"!==n||_.addEventListener("input",(()=>{"ТЕЛО2020"===_.value?b.innerHTML=E-Math.ceil(.3*b.innerText):"ТЕЛО2020"!==_&&(b.innerHTML=E)}));const x=document.querySelector(".status-message-form1"),B=document.querySelector(".status-message-form2"),C=document.getElementById("thanks"),I=document.getElementById("bad-connection"),S="Сообщение отправлено. Наши менеджеры свяжутся с Вами в ближайшее время.",q=document.querySelectorAll("form"),T=document.createElement("div"),w=document.createElement("div");T.style.cssText="font-size: 1rem; margin-top: 5px; text-align: center; color: green",w.style.cssText="font-size: 1rem; margin-top: 5px; text-align: center; color: #d93025",q.forEach((e=>{let t=e.querySelector(".name"),s=e.querySelector(".phone"),c=e.querySelector(".checkbox"),l=e.querySelector(".radio");e.addEventListener("submit",(o=>{if(o.preventDefault(),!e.matches("#footer_form")&&t.classList.contains("success")&&s.classList.contains("success")&&!1===c.checked)e.appendChild(w),w.textContent="Необходимо согласиться на обработку данных";else if(e.matches("#footer_form")&&s.classList.contains("success")&&!1===c.checked&&!1===l.checked)e.appendChild(w),w.textContent="Необходимо выбрать один клуб";else if(!e.matches("#footer_form")&&t.classList.contains("success")&&s.classList.contains("success")&&!0===c.checked||s.classList.contains("success")&&!0===l.checked||e.matches("#footer_form")&&s.classList.contains("success")&&!0===l.checked||e.matches("#footer_form")&&s.classList.contains("success")&&!0===c.checked){w.textContent="",e.appendChild(T),T.innerHTML="  \n            <div class='sk-fading-circle'>\n                <div class='sk-circle sk-circle-1'></div>\n                <div class='sk-circle sk-circle-2'></div>\n                <div class='sk-circle sk-circle-3'></div>\n                <div class='sk-circle sk-circle-4'></div>\n                <div class='sk-circle sk-circle-5'></div>\n                <div class='sk-circle sk-circle-6'></div>\n                <div class='sk-circle sk-circle-7'></div>\n                <div class='sk-circle sk-circle-8'></div>\n                <div class='sk-circle sk-circle-9'></div>\n                <div class='sk-circle sk-circle-10'></div>\n                <div class='sk-circle sk-circle-11'></div>\n                <div class='sk-circle sk-circle-12'></div>\n            </div>\n            ";const c=new FormData(e);n(c).then((c=>{if(200!==c.status)throw new Error("status error not 200");e.classList.contains("form1")||e.classList.contains("form2")?(e.style.display="none",e.removeChild(T),C.style.display="block"):e.matches("#banner-form")?(C.style.display="block",t.classList.remove("success"),s.classList.remove("success"),e.reset(),T.textContent=""):e.matches("#footer_form")?(C.style.display="block",s.classList.remove("success"),e.reset(),T.textContent=""):e.classList.contains("card_order1")?(t.classList.remove("success"),s.classList.remove("success"),_.classList.remove("success"),T.textContent=S,b.innerHTML="1999",e.reset(),setTimeout((()=>{T.textContent=""}),5e3)):(t.classList.remove("success"),s.classList.remove("success"),T.textContent=S,e.reset(),setTimeout((()=>{T.textContent=""}),5e3))})).catch((c=>{e.classList.contains("form1")||e.classList.contains("form2")?(e.style.display="none",I.style.display="block"):e.matches("#banner-form")?(I.style.display="block",t.classList.remove("success"),s.classList.remove("success"),e.reset(),T.textContent=""):e.matches("#footer_form")?(I.style.display="block",s.classList.remove("success"),e.reset(),T.textContent=""):(w.textContent="Извините, произошла ошибка. Повторите попытку позже.",b.innerHTML="1999",e.reset(),setTimeout((()=>{w.textContent=""}),5e3)),console.error(c)}))}}));const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e})}))})(),(()=>{const e=document.querySelector(".head-slider"),t=document.getElementById("totop");document.addEventListener("scroll",(function(){e.getBoundingClientRect().bottom>=0?t.style.display="none":t.style.display="block"}))})(),(()=>{let e=document.querySelector(".top-menu"),t=null;window.addEventListener("scroll",(function(){if(null==t){let s=getComputedStyle(e,""),c="";for(let e=0;e<s.length;e++)0!=s[e].indexOf("overflow")&&0!=s[e].indexOf("padding")&&0!=s[e].indexOf("border")&&0!=s[e].indexOf("outline")&&0!=s[e].indexOf("box-shadow")&&0!=s[e].indexOf("background")||(c+=s[e]+": "+s.getPropertyValue(s[e])+"; ");t=document.createElement("div"),t.style.cssText=c+" box-sizing: border-box; width: "+e.offsetWidth+"px;",e.insertBefore(t,e.firstChild);let l=e.childNodes.length;for(let s=1;s<l;s++)t.appendChild(e.childNodes[1]);e.style.height="100%",e.style.padding="0",e.style.border="0"}e.getBoundingClientRect().top<=0&&window.screen.width<768?t.className="sticky":t.className="",window.addEventListener("resize",(function(){e.children[0].style.width=getComputedStyle(e,"").width}),!1)}),!1);const s=document.querySelector(".menu-button"),c=document.querySelector(".popup-menu");s.addEventListener("click",(()=>{c.style.display="flex"})),c.addEventListener("click",(e=>{e.target.matches(".scroll-item, .close-menu-button")&&(c.style.display="none")}))})()})();